<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<title>Yew Sheng Kai - Project Portfolio</title>
<link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Yew Sheng Kai - Project Portfolio</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="project-iungo"><a class="link" href="#project-iungo">Project: iungo</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>iungo is a desktop address book application used for learning Software Engineering principles. The user interacts with
it using a CLI, and it has a GUI created with JavaFX. It is written in Java, and has about 6 kLoC.</p>
</div>
<div class="paragraph">
<p><strong>Code contributed</strong>: [<a href="https://github.com">Functional code</a>] [<a href="https://github.com">Test code</a>] {give links to collated code files}</p>
</div>
<div class="sect2">
<h3 id="enhancement-added-find-findany-feature-with-prefixes"><a class="link" href="#enhancement-added-find-findany-feature-with-prefixes">Enhancement Added: Find/Findany feature with prefixes</a></h3>
<div class="sect3">
<h4 id="external-behavior"><a class="link" href="#external-behavior">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="locating-persons-by-full-keyword-code-find-code-code-f-code"><a class="link" href="#locating-persons-by-full-keyword-code-find-code-code-f-code">Locating persons by full keyword: <code>find</code>, <code>f</code></a></h3>
<div class="paragraph">
<p>Finds persons whose details contain any of the given specified keywords. <strong>Keyword must be exact</strong><br>
Format: <code>find KEYWORD [MORE_KEYWORDS]</code><br>
<code>[p/PHONE] KEYWORD [MORE_KEYWORDS]</code><br>
<code>[e/EMAIL] KEYWORD [MORE_KEYWORDS]</code><br>
<code>[a/ADDRESS] KEYWORD [MORE_KEYWORDS]</code><br>
<code>[h/HOMEPAGE] KEYWORD [MORE_KEYWORDS]</code><br>
<code>[t/TAG] KEYWORD [MORE_KEYWORDS]</code></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>The search is case insensitive. e.g <code>hans</code> will match <code>Hans</code></p>
</li>
<li>
<p>The order of the keywords does not matter. e.g. <code>Hans Bo</code> will match <code>Bo Hans</code></p>
</li>
<li>
<p>Fields are optional (having no options default to finding name).</p>
</li>
<li>
<p>Only full words can be matched e.g. <code>Han</code> will not match <code>Hannons</code></p>
</li>
<li>
<p>Persons matching at least one keyword will be returned (i.e. <code>OR</code> search). e.g. <code>Hans Bo</code> will return <code>Hans Gruber</code>, <code>Bo Yang</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="paragraph">
<p>Find by <code>Name</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>find John</code><br>
Returns <code>john</code> and <code>John Doe</code> but does not return <code>Johnson</code></p>
</li>
<li>
<p><code>f Betsy Tim John</code><br>
Returns any person having names <code>Betsy</code>, <code>Tim</code>, or <code>John</code> but does not return <code>Johnson</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Find by <code>Phone</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>find p/9123456</code><br>
Returns any person having phone <code>9123456</code></p>
</li>
<li>
<p><code>find p/9123456 8123456</code><br>
Returns any person having phone <code>9123456</code>, <code>8123456</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="locating-persons-by-partial-keyword-code-findany-code-code-fa-code"><a class="link" href="#locating-persons-by-partial-keyword-code-findany-code-code-fa-code">Locating persons by partial keyword: <code>findany</code>, <code>fa</code></a></h3>
<div class="paragraph">
<p>Finds persons whose details contain any of the given specified keywords. <strong>Keyword can be partial.</strong><br>
Format: <code>findany KEYWORD [MORE_KEYWORDS]</code><br>
<code>[p/PHONE] KEYWORD [MORE_KEYWORDS]</code><br>
<code>[e/EMAIL] KEYWORD [MORE_KEYWORDS]</code><br>
<code>[a/ADDRESS] KEYWORD [MORE_KEYWORDS]</code><br>
<code>[h/HOMEPAGE] KEYWORD [MORE_KEYWORDS]</code><br>
<code>[t/TAG] KEYWORD [MORE_KEYWORDS]</code></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Keyword used can be partial. e.g. <code>Han</code> will match <code>Hannon</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="paragraph">
<p>Find by <code>Name</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>findany john</code><br>
Returns <code>Johnson</code> and <code>John Doe</code></p>
</li>
<li>
<p><code>fa Betsy Tim John</code><br>
Returns any person having names <code>Betsy</code>, <code>Timothy</code>, or <code>Johnson</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Find by <code>Phone</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>findany p/9123</code><br>
Returns <code>9123456</code>, <code>91234888</code></p>
</li>
<li>
<p><code>fa p/123 777 888</code><br>
Returns any person having phone <code>9123456</code>, <code>8123456</code>, <code>8777666</code>, or <code>9888555</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
<div class="sect3">
<h4 id="justification"><a class="link" href="#justification">Justification</a></h4>
<div class="paragraph">
<p>Previous behaviour of find operation does not allow user to search for other details except for their name.</p>
</div>
<div class="paragraph">
<p>This implementation enhances the usability of the application by allowing the user to utilizes different prefixes to search
for single/multiple contact details or a portion of details.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="find-mechanism"><a class="link" href="#find-mechanism">Find mechanism</a></h3>
<div class="paragraph">
<p>The find mechanism is facilitated by the <code>FindCommand</code>. <code>FindCommandParser</code> utilizes <code>ArgumentTokenizer</code> to tokenize arguments string and returns an <code>ArgumentMultimap</code> object that maps prefixes to their respective argument values whereby only the given prefixes (e.g. p/, e/) will be recognized in the arguments string. After which, <code>FindCommandParser</code> utilizes <code>arePrefixesPresent</code> method to retrieve the string which utilizes <code>ParserUtil</code> to check the validity of string expression.</p>
</div>
<div class="paragraph">
<p>Finally, <code>PersonContainsKeyWordsPredicate</code> will retrieve any matching string by the given command and prefixes residing in the address book in which <code>FindCommand</code> will execute and return the results base on the matched string.</p>
</div>
<div class="paragraph">
<p>The find mechanism support both <code>find</code> and <code>findany</code> command in which enables the search of single/multiple <code>Person</code> at once and lists their details (e.g. find john mary brook).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If no prefixes are present, <code>find</code> command will search for the name of <code>Person</code> in the address book by default.
(e.g find [NAME]).
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>findany</code> command is able to search a portion of the <code>Person</code> details (e.g. <code>findany</code> ohn, returns a list of <code>Person</code> whose contains ohn. Result: John, Fohnny, Johnny).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>FindCommandParser</code> code snippet to determine if user&#8217;s input contains any parameter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">if</span> (arePrefixesPresent(argMultimap, PREFIX_ADDRESS)) {
    <span class="predefined-type">ArrayList</span>&lt;<span class="predefined-type">String</span>&gt; keywordsList = ParserUtil.parseAllDetail(argMultimap.getAllValues(PREFIX_ADDRESS),
            FindCommand.COMMAND_WORD_ADDRESS);
    <span class="keyword">return</span> <span class="keyword">new</span> FindCommand(<span class="keyword">new</span> PersonContainsKeywordsPredicate(
            FindCommand.COMMAND_WORD_ADDRESS, keywordsList, isCaseIgnored));
} <span class="keyword">else</span> <span class="keyword">if</span> (arePrefixesPresent(argMultimap, PREFIX_EMAIL)) {
    <span class="predefined-type">ArrayList</span>&lt;<span class="predefined-type">String</span>&gt; keywordsList = ParserUtil.parseAllDetail(argMultimap.getAllValues(PREFIX_EMAIL),
            FindCommand.COMMAND_WORD_EMAIL);
    <span class="keyword">return</span> <span class="keyword">new</span> FindCommand(<span class="keyword">new</span> PersonContainsKeywordsPredicate(
            FindCommand.COMMAND_WORD_EMAIL, keywordsList, isCaseIgnored));
}
...</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>PersonContainsKeywordsPredicate</code> code snippet to determine if address book contains the matched string:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">switch</span> (commandWord) {

<span class="keyword">case</span> FindCommand.COMMAND_WORD:
    <span class="keyword">return</span> keywords.stream()
            .anyMatch(keyword -&gt; StringUtil.containsWordIgnoreCase(
                    person.getName().fullName, keyword, isCaseIgnored));
<span class="keyword">case</span> FindCommand.COMMAND_WORD_ADDRESS:
    <span class="keyword">return</span> keywords.stream()
            .anyMatch(keyword -&gt; StringUtil.containsWordIgnoreCase(
                    person.getAddress().value, keyword, isCaseIgnored));
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the find (FindCommandParser) operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/FindCommandParserArgumentTokenizer.png" alt="FindCommandParserArgumentTokenizer">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/FindCommandParserArePrefixesPresent.png" alt="FindCommandParserArePrefixesPresent">
</div>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the find (FindCommand) operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/FindCommand.png" alt="FindCommand">
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Implementation of FindCommandParser<br>
<strong>Alternative 1 (Current choice):</strong> Utilize ArgumentMultimap and ArgumentTokenizer to store all usable prefixes. Uses if-else statement to check if any prefixes are present when user execute the find operation.<br>
<strong>Pros:</strong> If user entered invalid command, the application will not crash but will instead return an invalid command message.<br>
<strong>Cons:</strong> New developers will have to take note to include new prefixes in ArgumentMultimap when adding new prefixes. Program will have to loop through if-else statement before determine which to execute.<br>
<strong>Alternative 2:</strong> Create multiple find command (e.g. findaddress, findphone) with different prefixes.<br>
<strong>Pros:</strong> Less complexity in the code and slightly quicker execution, easier for new developers to handle. New developers will not miss out certain prefixes to add in unlike Alternative 1.<br>
<strong>Cons:</strong> Duplicated find command with similar functionality which is unnecessary.</p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-theme"><a class="link" href="#enhancement-added-theme">Enhancement Added: Theme</a></h3>
<div class="sect3">
<h4 id="external-behavior-2"><a class="link" href="#external-behavior-2">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="selecting-a-theme-code-theme-code-code-t-code"><a class="link" href="#selecting-a-theme-code-theme-code-code-t-code">Selecting a theme : <code>theme</code>, <code>t</code></a></h3>
<div class="paragraph">
<p>Selects the theme identified by the index number.<br>
Format: <code>theme INDEX</code></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Select and load the theme at the specified <code>INDEX</code>.</p>
</li>
<li>
<p>The index refers to the index number shown in the most recent listing.</p>
</li>
<li>
<p>The index <strong>must be a positive integer</strong> <code>1, 2, 3, &#8230;&#8203;</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>theme</code><br>
<code>theme 1</code><br>
Select and load the first theme in the results of the <code>themelist</code> command.</p>
</li>
<li>
<p><code>t</code><br>
<code>theme 2</code><br>
Select and load the second theme in the results of the <code>themelist</code> command.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
<div class="sect3">
<h4 id="justification-2"><a class="link" href="#justification-2">Justification</a></h4>
<div class="paragraph">
<p>Previously, the application only support one theme which makes the address book looks dull and may not be suitable to be viewed by
user under certain circumstances (e.g. At certain time or day, user might opt for brighter look and feel on the address book)</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-2"><a class="link" href="#implementation-2">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="theme-mechanism"><a class="link" href="#theme-mechanism">Theme mechanism</a></h3>
<div class="paragraph">
<p>The theme mechanism is facilitated by the <code>ThemeCommand</code>. <code>ThemeCommandParser</code> checks for the input index <code>1</code> to <code>3</code>, validate through <code>ParserUtil</code> and calls the relevant <code>ThemeCommand</code> to switch the application <code>theme</code>.</p>
</div>
<div class="paragraph">
<p><code>ThemeCommand</code> relies on <code>ChangeThemeRequestEvent</code> which is handled by <code>MainWindow</code> in allowing the application to set theme.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
By default if no index are present, theme command will return an invalid message.
(e.g theme "").
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When the application is first initialize, <code>BrowserPanel</code> will <code>.setOpacity</code> to 0% and when <code>handlePersonPanelSelectionChangedEvent</code> is triggered, <code>BrowserPanel</code> will <code>.setOpacity</code> to 100% (this is done to prevent <code>WebView</code> from displaying the default background color).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>ThemeCommand</code> code snippet to ensure input index is not more than the specified theme list and calls the relevant <code>ChangeThemeRequestEvent</code> handler to switch theme based on the input index:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> CommandResult execute() <span class="directive">throws</span> CommandException {
    <span class="predefined-type">String</span><span class="type">[]</span> themeList = {<span class="string"><span class="delimiter">&quot;</span><span class="content">NoTheme</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">BlueTheme</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">DarkTheme</span><span class="delimiter">&quot;</span></span>};

    <span class="keyword">if</span> (targetIndex.getZeroBased() &gt;= themeList.length) {
        <span class="keyword">throw</span> <span class="keyword">new</span> CommandException(Messages.MESSAGE_INVALID_THEME_INDEX);
    }

    EventsCenter.getInstance().post(<span class="keyword">new</span> ChangeThemeRequestEvent(targetIndex));
    <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(<span class="predefined-type">String</span>.format(MESSAGE_THEME_SUCCESS, targetIndex.getOneBased()));
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>ThemeCommandParser</code> code snippet to determine if user&#8217;s input contains any index and returns message for invalid input or format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">try</span> {
    Index index = ParserUtil.parseIndex(args);
    <span class="keyword">return</span> <span class="keyword">new</span> ThemeCommand(index);
} <span class="keyword">catch</span> (IllegalValueException ive) {
    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">ParseException</span>(
            <span class="predefined-type">String</span>.format(MESSAGE_INVALID_COMMAND_FORMAT, ThemeCommand.MESSAGE_USAGE));
}
...</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>ChangeThemeRequestEvent</code> code snippet that receive and convert the Index parse from <code>ThemeCommand</code> and set to integer targetIndex:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">final</span> <span class="type">int</span> targetIndex;

<span class="directive">public</span> ChangeThemeRequestEvent(Index targetIndex) {
    <span class="local-variable">this</span>.targetIndex = targetIndex.getOneBased();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>MainWindow</code> code snippet that handles <code>ChangeThemeRequestEvent</code> and call the method <code>setWindowTheme</code> to switch theme:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">private</span> <span class="type">void</span> handleChangeThemeRequestEvent(ChangeThemeRequestEvent event) <span class="directive">throws</span> CommandException {
    logger.info(LogsCenter.getEventHandlingLogMessage(event));
    setWindowTheme(event.targetIndex);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>setWindowTheme</code> method code snippet that check for file existence before clearing the current style and applying the newly selected style :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">private</span> <span class="type">void</span> setWindowTheme(<span class="type">int</span> targetIndex) <span class="directive">throws</span> CommandException  {
    <span class="predefined-type">String</span><span class="type">[]</span> themeList = {<span class="string"><span class="delimiter">&quot;</span><span class="content">NoTheme</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">BlueTheme</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">DarkTheme</span><span class="delimiter">&quot;</span></span>};
    <span class="predefined-type">String</span> selectedTheme = <span class="keyword">new</span> <span class="predefined-type">String</span>();

    <span class="keyword">switch</span> (targetIndex) {
    <span class="keyword">case</span> <span class="integer">1</span>:
        selectedTheme = themeList[<span class="integer">0</span>];
        <span class="keyword">break</span>;
    <span class="keyword">case</span> <span class="integer">2</span>:
        selectedTheme = themeList[<span class="integer">1</span>];
        <span class="keyword">break</span>;
    <span class="keyword">case</span> <span class="integer">3</span>:
        selectedTheme = themeList[<span class="integer">2</span>];
        <span class="keyword">break</span>;
    <span class="keyword">default</span>:
        <span class="keyword">break</span>;
    }

    <span class="keyword">if</span> (MainApp.class.getResource(<span class="string"><span class="delimiter">&quot;</span><span class="content">/view/</span><span class="delimiter">&quot;</span></span> + selectedTheme + <span class="string"><span class="delimiter">&quot;</span><span class="content">.css</span><span class="delimiter">&quot;</span></span>) == <span class="predefined-constant">null</span>) {
        <span class="keyword">throw</span> <span class="keyword">new</span> CommandException(Messages.MESSAGE_UNKNOWN_FILEPATH);
    }
    getRoot().getStylesheets().clear();
    getRoot().getStylesheets().add(<span class="string"><span class="delimiter">&quot;</span><span class="content">/view/</span><span class="delimiter">&quot;</span></span> + selectedTheme + <span class="string"><span class="delimiter">&quot;</span><span class="content">.css</span><span class="delimiter">&quot;</span></span>);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>BrowserPanel</code> code snippet to change the opacity of <code>WebView</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> BrowserPanel() {
    ...
    browser.setOpacity(<span class="integer">0</span>);
}

<span class="directive">private</span> <span class="type">void</span> handlePersonPanelSelectionChangedEvent(PersonPanelSelectionChangedEvent event) {
    ...
    browser.setOpacity(<span class="integer">100</span>);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the theme (ThemeCommand) operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ThemeCommand.png" alt="ThemeCommand">
</div>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the theme (ThemeCommandParser) operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ThemeCommandParser.png" alt="ThemeCommandParser">
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Implementation of ThemeCommand<br>
<strong>Alternative 1 (Current choice):</strong> Utilizing <code>ChangeThemeRequestEvent</code> and allow <code>MainWindow</code> to handle the RequestEvent and call method to change application theme.<br>
<strong>Pros:</strong> ThemeCommand will have lesser responsibility and checks to validate (efficiency).<br>
<strong>Cons:</strong> There are other effective way in changing the application theme without the process of parsing and event handling whereby new programmer may find it difficult to understand the behavior.<br>
<strong>Alternative 2:</strong> Allow <code>MainWindow</code> at start to instantiate ThemeCommand and pass/set its <code>Region</code> to ThemeCommand, allowing accessibility from within. After which, utilize setTheme method in ThemeCommand to switch application theme.<br>
<strong>Pros:</strong> Straight forward, easier for new programmer to understand.<br>
<strong>Cons:</strong> There could be a breach in security as <code>ThemeCommand</code> should not be allowed to obtain <code>MainWindow</code> <code>Region</code> and hold it indefinitely.</p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark>
---</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-gmap"><a class="link" href="#enhancement-added-gmap">Enhancement Added: Gmap</a></h3>
<div class="sect3">
<h4 id="external-behavior-3"><a class="link" href="#external-behavior-3">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="selecting-a-person-code-gmap-code-code-gm-code"><a class="link" href="#selecting-a-person-code-gmap-code-code-gm-code">Selecting a person : <code>gmap</code>, <code>gm</code></a></h3>
<div class="paragraph">
<p>Selects the person identified by the index number used in the last person listing and map the address to Google Map.<br>
Format: <code>gmap INDEX</code></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Selects the person and loads the Google map search page at the person the specified <code>INDEX</code>.</p>
</li>
<li>
<p>The index refers to the index number shown in the most recent listing.</p>
</li>
<li>
<p>The index <strong>must be a positive integer</strong> <code>1, 2, 3, &#8230;&#8203;</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>list</code><br>
<code>gmap 2</code><br>
Selects the 2nd person in the address book and map its address to Google Map.</p>
</li>
<li>
<p><code>find Betsy</code><br>
<code>gm 1</code><br>
Selects the 1st person in the results of the <code>find</code> command and map its address to Google Map.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
<div class="sect3">
<h4 id="justification-3"><a class="link" href="#justification-3">Justification</a></h4>
<div class="paragraph">
<p>Previously, the application list its <code>Person</code> details using ListView. With the updated GUi, the person details will now be shown on
the left panel beside the web browser. Gmap command is hence added so that user is able to search for <code>Person</code> details other than selecting its homepage.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-3"><a class="link" href="#implementation-3">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="gmap-mechanism"><a class="link" href="#gmap-mechanism">Gmap mechanism</a></h3>
<div class="paragraph">
<p>The gmap mechanism is facilitated by the <code>GmapCommand</code>. <code>GmapCommandParser</code> checks for input index and validate through <code>ParserUtil</code> and calls the relevant <code>GmapCommand</code> to search for <code>Person</code> address using Google Map.</p>
</div>
<div class="paragraph">
<p><code>GmapCommand</code> relies on <code>MapToListRequestEvent</code> which is handled by <code>BrowserPanel</code> to call the appropriate method for loading <code>Person</code> address using Google Map.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
By default if no index are present, gmap command will return an invalid message.
(e.g gmap "").
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Events which triggers <code>PersonSideCardRequestEvent</code> handler, set the visibility of <code>Person</code> side panel card (Allow more display and exposure to the Web Browser).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>GmapCommand</code> code snippet to ensure input index is within the PersonList, and calls the relevant <code>MapToListRequestevent</code> handler to search <code>Person</code> address on Google Map:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">try</span> {
<span class="directive">public</span> CommandResult execute() <span class="directive">throws</span> CommandException {
    <span class="predefined-type">List</span>&lt;ReadOnlyPerson&gt; lastShownList = model.getFilteredPersonList();
    <span class="keyword">if</span> (targetIndex.getZeroBased() &gt;= lastShownList.size()) {
        <span class="keyword">throw</span> <span class="keyword">new</span> CommandException(Messages.MESSAGE_INVALID_PERSON_DISPLAYED_INDEX);
    }
    EventsCenter.getInstance().post(<span class="keyword">new</span> MapToListRequestEvent(lastShownList.get(targetIndex.getZeroBased())));
    <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(<span class="predefined-type">String</span>.format(MESSAGE_SELECT_PERSON_SUCCESS, targetIndex.getOneBased()));
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>GmapCommandParser</code> code snippet to check if user&#8217;s input contains any index and returns message if there exist invalid input:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> GmapCommand parse(<span class="predefined-type">String</span> args) <span class="directive">throws</span> <span class="exception">ParseException</span> {
    <span class="keyword">try</span> {
        Index index = ParserUtil.parseIndex(args);
        <span class="keyword">return</span> <span class="keyword">new</span> GmapCommand(index);
    } <span class="keyword">catch</span> (IllegalValueException ive) {
        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">ParseException</span>(
                <span class="predefined-type">String</span>.format(MESSAGE_INVALID_COMMAND_FORMAT, GmapCommand.MESSAGE_USAGE));
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>BrowserPanel</code> code snippet that handle <code>MapToListRequestEvent</code> and load the method to search on Google Map:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">private</span> <span class="type">void</span> loadPersonMap(ReadOnlyPerson targetPerson) {
    loadPage(GOOGLE_MAP_SEARCH_URL_PREFIX + targetPerson.getAddress().value
            .replaceAll(<span class="string"><span class="delimiter">&quot;</span><span class="content">,</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>));
}
<span class="directive">private</span> <span class="type">void</span> handlePersonPanelGmapChangedEvent(MapToListRequestEvent event) {
    logger.info(LogsCenter.getEventHandlingLogMessage(event));
    loadPersonMap(event.targetPerson);
    browser.setOpacity(<span class="integer">100</span>);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>PersonSideCard</code> code snippet that handles <code>PersonSideCardRequestEvent</code> and set Person card side panel visibility:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">private</span> <span class="type">void</span> showSidePanel(<span class="type">boolean</span> isVisible) {
    getRoot().setManaged(isVisible);
    <span class="type">int</span> opacityLevel;
    <span class="keyword">if</span> (isVisible) {
        opacityLevel =  <span class="integer">100</span>;
    } <span class="keyword">else</span> {
        opacityLevel = <span class="integer">0</span>;
    }
    getRoot().setOpacity(opacityLevel);
}
<span class="annotation">@Subscribe</span>
<span class="directive">private</span> <span class="type">void</span> handlePersonSideCardPanelChangedEvent(PersonSideCardRequestEvent event) {
    logger.info(LogsCenter.getEventHandlingLogMessage(event));
    showSidePanel(event.isVisible);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the (GmapCommand) operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/GmapCommand.png" alt="GmapCommand">
</div>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the (GmapCommandParser) operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/GmapCommandParser.png" alt="GmapCommandParser">
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-3"><a class="link" href="#design-considerations-3">Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Implementation of GmapCommand<br>
<strong>Alternative 1 (Current choice):</strong> Utilizes event handler to call and load the person address on Google Map. <br>
<strong>Pros:</strong> Better user experience. And ensures that the web browser won&#8217;t be obstruct by <code>PersonSideCard</code> panel with another event handler that controls the visibility.<br>
<strong>Cons:</strong> We could always utilizes library and implement the <code>PersonSideCard</code> panel.<br>
<strong>Alternative 2:</strong> Load the person address on Google Map on <code>select</code> command. <br>
<strong>Pros:</strong> Reduce the need of having extra command to load person address<br>
<strong>Cons:</strong> Only able to do one search feature using the web browser<br></p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark>
---</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-about"><a class="link" href="#enhancement-added-about">Enhancement Added: About</a></h3>
<div class="sect3">
<h4 id="external-behavior-4"><a class="link" href="#external-behavior-4">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="viewing-about-us-code-about-code"><a class="link" href="#viewing-about-us-code-about-code">Viewing About us : <code>about</code></a></h3>
<div class="paragraph">
<p>Format: <code>about</code></p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
<div class="sect3">
<h4 id="justification-4"><a class="link" href="#justification-4">Justification</a></h4>
<div class="paragraph">
<p>Allow user to view the About Us page and contact the developers for bugs and improvement.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-4"><a class="link" href="#implementation-4">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="about-mechanism"><a class="link" href="#about-mechanism">About mechanism</a></h3>
<div class="paragraph">
<p>The about mechanism is facilitated by the <code>AboutCommand</code>.</p>
</div>
<div class="paragraph">
<p><code>AboutCommand</code> relies on <code>ShowAboutRequestEvent</code> which is handled by <code>MainWindow</code> to call the appropriate method to load the <code>AboutWindow</code>.</p>
</div>
<div class="paragraph">
<p><code>AboutCommand</code> code snippet that calls the relevant <code>ShowAboutRequestEvent</code> handler to open <code>AboutWindow</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="directive">public</span> CommandResult execute() {
        EventsCenter.getInstance().post(<span class="keyword">new</span> ShowAboutRequestEvent());
        <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(SHOWING_ABOUT_MESSAGE);
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>MainWindow</code> code snippet that handle <code>ShowAboutRequestEvent</code> and call the method to display <code>AboutWindow</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@FXML</span>
<span class="directive">public</span> <span class="type">void</span> handleAbout() {
    AboutWindow aboutWindow = <span class="keyword">new</span> AboutWindow();
    aboutWindow.show();
}
<span class="annotation">@Subscribe</span>
<span class="directive">private</span> <span class="type">void</span> handleShowAboutEvent(ShowAboutRequestEvent event) {
    logger.info(LogsCenter.getEventHandlingLogMessage(event));
    handleAbout();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the (AboutCommand) operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/AboutCommand.png" alt="AboutCommand">
</div>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the <code>MainWindow</code> that handles ShowAboutRequestEvent operation and call <code>AboutWindow</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/MainWindowHandleAbout.png" alt="MainWindowHandleAbout">
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-4"><a class="link" href="#design-considerations-4">Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Implementation of AboutCommand<br>
<strong>Alternative 1 (Current choice):</strong> Utilizes event handler and ensure that method that open <code>AboutWindow</code> will be called.</p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark>
---</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-remark"><a class="link" href="#enhancement-added-remark">Enhancement Added: Remark</a></h3>
<div class="sect3">
<h4 id="external-behavior-5"><a class="link" href="#external-behavior-5">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="making-a-remark-to-a-person-code-remark-code-code-re-code"><a class="link" href="#making-a-remark-to-a-person-code-remark-code-code-re-code">Making a Remark to a person : <code>remark</code>, <code>re</code></a></h3>
<div class="paragraph">
<p>Give a person a remark by the index number used in the last person listing.<br>
Format: <code>remark INDEX re/REMARK</code></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Give the person a remark at the specified <code>INDEX</code>.</p>
</li>
<li>
<p>The index refers to the index number shown in the most recent listing.</p>
</li>
<li>
<p>The index <strong>must be a positive integer</strong> <code>1, 2, 3, &#8230;&#8203;</code></p>
</li>
<li>
<p>The re/REMARK field is compulsory.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>list</code><br>
<code>remark 2 re/He&#8217;s my childhood friend</code><br>
Give the 2nd person a remark in the address book.</p>
</li>
<li>
<p><code>find Betsy</code><br>
<code>re 1 re/Owes me money</code><br>
Gives the 1st person in the results of the <code>find</code> command a remark.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
<div class="sect3">
<h4 id="justification-5"><a class="link" href="#justification-5">Justification</a></h4>
<div class="paragraph">
<p>Previous application utilizes tag to briefly describe their contacts. The remark enhancement allow user to leave a long string of characters that is able to describe their contact.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-5"><a class="link" href="#implementation-5">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="remark-mechanism"><a class="link" href="#remark-mechanism">Remark mechanism</a></h3>
<div class="paragraph">
<p>The remark mechanism is facilitated by the <code>RemarkCommand</code> and <code>RemarkCommandParser</code>.</p>
</div>
<div class="paragraph">
<p><code>RemarkCommandParser</code> utilizes <code>ArgumentTokenizer</code> to tokenize arguments string and returns an <code>ArgumentMultimap</code> object that maps the
 remark prefixes to its argument values.</p>
</div>
<div class="paragraph">
<p><code>RemarkCommand</code> will then execute the UndoableCommand to update the person with the input string.</p>
</div>
<div class="paragraph">
<p><code>RemarkCommand</code> code snippet that calls the relevant <code>UndoableCommand</code> and update the <code>Person</code> remark:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> CommandResult executeUndoableCommand() <span class="directive">throws</span> CommandException {
    <span class="predefined-type">List</span>&lt;ReadOnlyPerson&gt; lastShownList = model.getFilteredPersonList();
    <span class="keyword">if</span> (index.getZeroBased() &gt;= lastShownList.size()) {
        <span class="keyword">throw</span> <span class="keyword">new</span> CommandException(Messages.MESSAGE_INVALID_PERSON_DISPLAYED_INDEX);
    }
    ReadOnlyPerson personToEdit = lastShownList.get(index.getZeroBased());
    Person editedPerson = <span class="keyword">new</span> Person(personToEdit.getName(), personToEdit.getPhone(), personToEdit.getEmail(),
            personToEdit.getAddress(), remark, personToEdit.getAvatar(), personToEdit.getTags());
    <span class="keyword">try</span> {
        model.updatePerson(personToEdit, editedPerson);
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>RemarkCommand</code> utilizes <code>model.getFilteredPersonList()</code> and <code>lastShownList.get(index.getZeroBased()</code> to get the selection of
the person and add the string of remark to existing person via <code>model.updatePerson(personToEdit, editedPerson);</code>.</p>
</div>
<div class="paragraph">
<p><code>RemarkCommandParser</code> code snippet that handle <code>ArgumentMultimap</code>, check if prefixes exist and get the input string:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> RemarkCommand parse(<span class="predefined-type">String</span> args) <span class="directive">throws</span> <span class="exception">ParseException</span> {
    requireNonNull(args);
    ArgumentMultimap argMultimap =
            ArgumentTokenizer.tokenize(args, PREFIX_REMARK);
    Index index;
    <span class="keyword">try</span> {
        index = ParserUtil.parseIndex(argMultimap.getPreamble());
    } <span class="keyword">catch</span> (IllegalValueException ive) {
        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">ParseException</span>(<span class="predefined-type">String</span>.format(MESSAGE_INVALID_COMMAND_FORMAT, RemarkCommand.MESSAGE_USAGE));
    }
    <span class="predefined-type">String</span> remark = argMultimap.getValue(PREFIX_REMARK).orElse(<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>);
    <span class="keyword">return</span> <span class="keyword">new</span> RemarkCommand(index, <span class="keyword">new</span> Remark(remark));
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the (RemarkCommand) operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/RemarkCommand.png" alt="RemarkCommand">
</div>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the (RemarkCommandParser) operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/RemarkCommandParser.png" alt="RemarkCommandParser">
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-5"><a class="link" href="#design-considerations-5">Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Implementation of RemarkCommand<br>
<strong>Alternative 1 (Current choice):</strong> Utilize ArgumentMultimap and ArgumentTokenizer to set usable prefixes and get input string value.<br>
<strong>Pros:</strong> Allow user to add and set remark to contact anytime without the add parameter.<br>
<strong>Cons:</strong> User who wish to add remark during the <code>AddCommand</code> process will not be possible.<br>
<strong>Alternative 2:</strong> Include another prefixes that set remark for user during the <code>AddCommand</code> process<br>
<strong>Pros:</strong> New user can immediately give a person remark during the <code>AddCommand</code> phase.<br>
<strong>Cons:</strong> Can be troublesome for user to view their own input during the <code>AddCommand</code> phase as remark is usually lengthy.</p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark>
---</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="other-contributions"><a class="link" href="#other-contributions">Other contributions</a></h3>
<div class="ulist">
<ul>
<li>
<p>Updated the GUI layout and color scheme, logo (Pull requests <a href="https://github.com">#7</a>, <a href="https://github.com">#15</a>, <a href="https://github.com">#10</a>, <a href="https://github.com">#33</a>, <a href="https://github.com">#63</a>)</p>
</li>
<li>
<p>Wrote default functionality for developer guide 'Use case' (textual form) (Pull requests <a href="https://github.com">#10</a>)</p>
</li>
<li>
<p>Wrote additional tests to increase coverage (Pull requests all)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>{To be included in the future}</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-11-02 15:06:58 +00:00
</div>
</div>
</body>
</html>